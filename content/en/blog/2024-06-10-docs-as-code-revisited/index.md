---
title: Docs-as-Code revisited
date: 2024-06-02
draft: true
---

前面幾帖隨筆曾簡單提過 Docs-as-Code 的文件製作方法，這裡想再多寫一些。主要是因為最近對公司內部單位做了兩次關於文件製作的簡報，感覺對此議題可以寫得再詳細一些。另一方面，我在 technical writer 這個職位已將近滿一年，是個適當時機整理一下工作心得。

這篇文章要告訴你的是：

- 關於文件是否有用，我的經驗與看法。
- 何時該考慮製作「正式文件」？

而這篇文章沒有要告訴你的是：

- 一家公司是否需要 technical writer。（我沒打算宣傳這個角色的必要性）
- 您是否該為所有軟體專案或產品編寫正式文件。（讀文本文之後，想必您自有定論）


## To write or not?

有此一說：「沒人喜歡寫文件。」

其實不只是寫文件吧。如果沒有需要，一般人也不會去閱讀技術文件。閱讀技術文件，要麼為了學習特定知識，要麼為了解決手邊的問題。

好比我自己的親身經驗，有人曾經比較客氣地問我：「你寫的文件有人會看嗎？大家好像都是直接找人問比較快。」

有的人則是比較直接：「你寫的文件應該沒人看。」

我從未感到跟我說這些話的人有任何惡意，也從未因這些疑慮而氣餒。因為那些對文件是否有用的疑問或看法，在我看來都很正常。我開箱 3C 產品的時候，也幾乎沒在看產品說明書的，所以這些看法我都能理解。然而，有些電器用品的某些功能若操作可能稍微複雜些，那時候，我會慶幸我有集中收好產品說明書。例如我最近買的一支能夠除塵螨的乾濕兩用吸塵器，使用一陣子之後，覺得該清理濾網了，才發現其中一處濾網，我根本不知道該怎麼拆卸，看了說明書才恍然大悟：竟然是用其中一支比較細長的吸頭來拆裝（can you imagine that?）。

所以，文件有沒有用？有沒有人會讀？

您需要它時，它就有用；您不需要它，也不代表別人不需要。

文件有點像保險——當你不需要它的時候，可能覺得每年繳保險費是多餘的開銷；當你需要它的時候，則會慶幸還好當初有保險（說不定還覺得當初保太少）。

故此，如果你是寫文件的人，你也不需要因為有些人對文件的評論或看法而太過在意。尤其當你是全職 technical writer 時，寫文件就是本務，是該做的事；思考如何把文件寫得好、對讀者有用，才是最要緊的事。

如果你不是 technical writer 呢？ Well, if you feel like to write, you write. Don't care about what people say. 寫作本身就是最好的報償，我相信有寫作習慣的人都能體會這句話的含意。

所以，想寫就寫吧。與其煩惱 to write or not to write、或者文件是否有用，不如思考自己該寫什麼內容、以及怎樣把它寫好。

如果您還是覺得，「你說的好像有那麼一丁點道理，但是你可以提出更具體或者更有力的證明嗎？」

也許可以看看以下參考案例：

- Amazon 的 [AWS Documentaion](https://docs.aws.amazon.com/) 以及[文件原始碼](https://github.com/awsdocs)。
- [Microsoft Learning](http://www.microsoft.com/learning) 及其[文件原始碼](https://github.com/MicrosoftLearning)
- [Kubernetes Documentation](https://kubernetes.io/docs/) 及其[文件原始碼](https://github.com/kubernetes/kubernetes)

上面列出的技術文件，在我看來都體現了 documentation as a product 的精神（簡稱 docs as a product），也就是把文件當成一項產品來構思、發展、和維護。它們的文件原始碼是以 markdown 來編寫，基本上都可以說是採用 Docs-as-Code 方法所製作的文件。

接下來所要談的「文件」，指的就是類似剛才列出的幾個文件參考案例，是屬於「正式的產品文件」，是而不是零散或隨興的開發筆記。兩者的一個差異是，正式文件除了需要構思與設計，也會跟著軟體產品的版本而持續更新與完善。開發筆記或日誌則偏向捕捉當下的一些重要開發資訊，比較沒有文件結構的組織，將來回頭更新的機會也不大。

在談論文件時，讀者難免會投射到自己目前正在參與的專案或者過往的經驗，故再次強調，這裡說的文件都是指「正式文件」，或者「產品文件」，例如產品的 user guide、tutorials、API reference manual 等等。

## 需要製作產品文件嗎？ (#do-i-need-docs-as-a-product)

我不想假裝我知道所有事情。每一家公司、每一個軟體專案和開發團隊的情況不盡相同，是否需要花時間去製作正式的產品文件，得由團隊評估產品的**目標使用者**是否需要。

舉例來說，有的應用程式，目標使用者可能就是自家內部的幾位 developers，大家只要看程式碼和其中的註解就大致能理解。這種情況，我想通常是不需要額外花時間人力去製作正式文件，甚至連討論「要不要文件」都顯得多餘。

那麼，如果是開放原始碼專案，目標使用者數量較多（也許數十人或數百人）呢？所有的使用者還是能看到原始碼和程式註解，有需要製作文件嗎？這個問題可能還會附加一個 p.s.：「我的程式碼已經 self-explained 了，一看就懂。」

我的看法是：

- 如果程式碼真的很簡單易懂，您覺得**任何人**只要看程式碼都應該能懂，碰到問題也都能解決，那麼或許不用製作正式文件，只要寫一點 readme 和 FAQ 便足夠應付。
- 不妨自問：「都有英文版了，還需要有中文譯本嗎？」雖然不是完全相同等級的問題，但其本質是相似的，即：能夠為使用者節省可觀的學習、閱讀、和尋找的時間嗎？
- 問兩次原則。即同一個問題被問了兩次，這通常真實反映了使用者的困境，應視為一種徵兆：可能需要把它寫入文件。

總之，是否需要寫文件，主要是以使用者的實際需求來評估，不應一概而論。

就再來談談 Docs-as-Code。

---

擔任全職技術寫手已經滿九個月，記錄一點心得。

近九個月以來，參與了三個軟體專案團隊的技術文件撰寫工作

- Product A: 使用者操作手冊、API 文件與教學。
- Product B: API 文件占了 90% 以上。
- Product C: 這是三個軟體專案當中，我的參與度和貢獻度最少的專案。

簡單來說，三個軟體專案需要我這邊撰寫的技術文件主要都是使用者手冊和 API 文件。

三個軟體專案分別由三個團隊負責開發與維運，我和這三個團隊的合作方式各有差異。以下分別以 Team A、Team B、Team C 代表這三個團隊，說明產出技術文件的合作方式。

## Team A

Product A 是我作為全職技術寫手的第一個專案，而且剛到職不久，很多地方都搞不清楚狀況，故基本上團隊要我寫什麼，我就想辦法去弄懂並寫出來。

> 話雖如此，我參與的第二個和第三個專案其實也幾乎是團隊要我寫什麼，我就寫什麼。只是有關文件的布局和設計安排，我開始比較有自己的想法，也比較有信心拿捏分寸，便直接去做，而不用任何小事都得請示團隊。

Dev 原本就有自行製作 API 參考文件，而這些 API 參考文件是利用工具從 Python 程式碼產生對應的 API 文件。所以我這邊主要是負責撰寫使用者手冊。

Product A 所牽涉的領域對我而言可說是完全陌生，故使用手冊裡面牽涉到的大量專有名詞和術語、各種功能的用法，都必須倚賴 dev team 的傳授和指導。

- User Guide：包括產品簡介、架構簡介、setup、configuration、get statred、tutorial、FAQ 等等。
- API 文件：初期是人工撰寫（根據既有的 Confluence 平台上的 API reference 文件），後期則停止人工撰寫 API 文件，因為逐漸跟不上 dev team 更新的腳步。就我的理解，Dev team 是以工具讀取 Python 程式碼來產生 OpenAPI 的 specification 檔案，然後轉換成網頁的形式發布於 Confluence 平台。
- 我對此軟體產品的了解程度：僅止於足夠寫文件的程度。由於此產品涉及的專業領域是我不熟的，短時間內也很難掌握，故我不敢說這個產品的文件寫得夠好。每當收到 dev team 的更新，指導我某樣新功能的用法、用意、注意事項等等，我就趁著更新文件的時候順便改進一下原先可能沒有寫好的地方。
- 目前對此產品的文件的更新：偶爾、少量。
- Domain know-how 的學習門檻：高（對我而言）。
- 學習過程：大部分是倚賴 dev team 的口頭傳授，再搭配閱讀 dev team 撰寫的文件或筆記。
- 使用者反饋：目前並沒有收到相關反饋。

## Team B

## Conclusion

- 要不要製作正式的產品文件，評估的關鍵在於產品的目標使用者是否需要。
 